{"name":"__cargo_web_snippet_b150bd5a0633ad128c96088d3a9bdee33fc1d24b","code":"$1 = Module.STDWEB_PRIVATE.to_js($1);$2 = Module.STDWEB_PRIVATE.to_js($2);$3 = Module.STDWEB_PRIVATE.to_js($3);$4 = Module.STDWEB_PRIVATE.to_js($4);$5 = Module.STDWEB_PRIVATE.to_js($5);$6 = Module.STDWEB_PRIVATE.to_js($6);Module.STDWEB_PRIVATE.from_js($0, (function(){var pn=($1);var chat_callback=($2);var online_cb=($3);var offline_cb=($4);pn.on(\"$.ready\",function(data){console.log(\"PubNub Chat Engine Ready\");me=data.me;myChat=new pn.Chat(($5));myChat.on(\"$.connected\",()=>{console.log(\"The chat is connected!\");myChat.on(\"message\",(message)=>{chat_callback(message.data.text,message.sender.state.nickName);console.log(\"message: \"+message.data.text+\" from \"+message.sender.state.nickName);});myChat.on(\"$.online.*\",(data)=>{console.log(\"User is Online: \",data.user);online_cb(data.user.state.nickName);});myChat.on(\"$.offline.*\",(data)=>{console.log(\"User is Offline: \",data.user);offline_cb(data.user.state.nickName);});});});pn.connect(String(new Date().getTime()),{nickName:($6)});console.log(\"pubnub connecting\");return myChat;})());","arg_count":7}